#!/usr/bin/env bash

# This script generate CSS code based on the font settings in the user's kdeglobals file.

# Extract the font settings from the kdeglobals file and format them as CSS properties.
FONT_CSS=$(awk -F[,=] '/^ *font=/{ 
    font=$2;
    size=$3 "pt"; 
    weight="400"; # Valor padr√£o
    if ($12 ~ "[Tt]hin") weight="100"; # Thin
    else if ($12 ~ "[Ll]ight") weight="200"; # Light
    else if ($12 ~ "[Mm]edium") weight="500"; # Medium
    else if ($12 ~ "[Bb]old") weight="600"; # Bold
    else if ($12 ~ "[Bb]lack") weight="800"; # Black
    style="normal";
    if ($NF ~ /Italic$/) style="italic"; # Checa se termina com Italic
    print "--size: " size ";";
    print "font-family: \"" font "\";";
    print "font-weight: " weight ";";
    print "font-style: " style ";";
}' ~/.config/kdeglobals)

# Output the generated CSS code.
echo ':root,
body {'
echo $FONT_CSS
echo }
